<svg width="800" height="350" viewBox="0 0 800 350" xmlns="http://www.w3.org/2000/svg" font-family="'Segoe UI',system-ui,sans-serif">
  <defs>
    <linearGradient id="bg" x1="0" y1="0" x2="1" y2="1" gradientUnits="objectBoundingBox">
      <stop offset="0%" stop-color="#eef2ff"/>
      <stop offset="100%" stop-color="#f8fafc"/>
    </linearGradient>
    <marker id="arrowB" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto">
      <path d="M0,0 L0,6 L8,3 z" fill="#4f8ef7"/>
    </marker>
    <marker id="arrowU" markerWidth="8" markerHeight="8" refX="2" refY="3" orient="auto">
      <path d="M8,0 L8,6 L0,3 z" fill="#94a3b8"/>
    </marker>
    <marker id="arrowD" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto">
      <path d="M0,0 L0,6 L8,3 z" fill="#94a3b8"/>
    </marker>
    <filter id="sh">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="#00000018"/>
    </filter>
  </defs>

  <rect width="800" height="350" fill="url(#bg)"/>

  <!-- Title -->
  <text x="400" y="24" text-anchor="middle" fill="#1e293b" font-size="14" font-weight="700">Client-Side Load Balancing</text>

  <!-- ── Client boxes (left) ── -->
  <!-- Client A: y=38-100, center y=69 -->
  <rect x="30" y="38" width="240" height="62" rx="10" fill="white" stroke="#4f8ef7" stroke-width="1.8" filter="url(#sh)"/>
  <text x="68" y="62" fill="#4f8ef7" font-size="11" font-weight="700">Client A</text>
  <text x="68" y="77" fill="#64748b" font-size="8.5">instance list: 1, 2, 3</text>
  <text x="68" y="90" fill="#94a3b8" font-size="8">routes independently</text>

  <!-- Client B: y=120-182, center y=151 -->
  <rect x="30" y="120" width="240" height="62" rx="10" fill="white" stroke="#4f8ef7" stroke-width="1.8" filter="url(#sh)"/>
  <text x="68" y="144" fill="#4f8ef7" font-size="11" font-weight="700">Client B</text>
  <text x="68" y="159" fill="#64748b" font-size="8.5">instance list: 1, 2, 3</text>
  <text x="68" y="172" fill="#94a3b8" font-size="8">routes independently</text>

  <!-- Client C: y=202-264, center y=233 -->
  <rect x="30" y="202" width="240" height="62" rx="10" fill="white" stroke="#4f8ef7" stroke-width="1.8" filter="url(#sh)"/>
  <text x="68" y="226" fill="#4f8ef7" font-size="11" font-weight="700">Client C</text>
  <text x="68" y="241" fill="#64748b" font-size="8.5">instance list: 1, 2, 3</text>
  <text x="68" y="254" fill="#94a3b8" font-size="8">routes independently</text>

  <!-- ── Routing arrows: each client → its instance ── -->
  <line x1="272" y1="69"  x2="578" y2="69"  stroke="#4f8ef7" stroke-width="1.8" marker-end="url(#arrowB)"/>
  <line x1="272" y1="151" x2="578" y2="151" stroke="#4f8ef7" stroke-width="1.8" marker-end="url(#arrowB)"/>
  <line x1="272" y1="233" x2="578" y2="233" stroke="#4f8ef7" stroke-width="1.8" marker-end="url(#arrowB)"/>

  <!-- ── Instance boxes (right) ── -->
  <rect x="580" y="44" width="110" height="50" rx="8" fill="white" stroke="#4f8ef7" stroke-width="1.8" filter="url(#sh)"/>
  <text x="635" y="73" text-anchor="middle" fill="#1e293b" font-size="10" font-weight="600">Instance 1</text>

  <rect x="580" y="126" width="110" height="50" rx="8" fill="white" stroke="#4f8ef7" stroke-width="1.8" filter="url(#sh)"/>
  <text x="635" y="155" text-anchor="middle" fill="#1e293b" font-size="10" font-weight="600">Instance 2</text>

  <rect x="580" y="208" width="110" height="50" rx="8" fill="white" stroke="#4f8ef7" stroke-width="1.8" filter="url(#sh)"/>
  <text x="635" y="237" text-anchor="middle" fill="#1e293b" font-size="10" font-weight="600">Instance 3</text>

  <!-- ── Service Registry (bottom) ── -->
  <!-- Vertical bus: client bottoms to registry -->
  <line x1="150" y1="100" x2="150" y2="282" stroke="#94a3b8" stroke-width="1.2" stroke-dasharray="4 3"/>
  <line x1="150" y1="182" x2="150" y2="282" stroke="#94a3b8" stroke-width="1.2" stroke-dasharray="4 3"/>
  <line x1="150" y1="264" x2="150" y2="282" stroke="#94a3b8" stroke-width="1.2" stroke-dasharray="4 3"/>
  <!-- Bus to registry: bidirectional arrow -->
  <line x1="150" y1="282" x2="280" y2="290" stroke="#94a3b8" stroke-width="1.2" stroke-dasharray="4 3" marker-end="url(#arrowD)"/>
  <line x1="280" y1="290" x2="150" y2="282" stroke="#94a3b8" stroke-width="1.2" stroke-dasharray="4 3" marker-end="url(#arrowU)"/>
  <text x="205" y="278" text-anchor="middle" fill="#94a3b8" font-size="8" font-style="italic">subscribes ↕</text>

  <rect x="282" y="284" width="236" height="50" rx="10" fill="white" stroke="#94a3b8" stroke-width="1.8" filter="url(#sh)"/>
  <text x="400" y="306" text-anchor="middle" fill="#64748b" font-size="11" font-weight="700">Service Registry</text>
  <text x="400" y="322" text-anchor="middle" fill="#94a3b8" font-size="8.5">Consul · Zookeeper · etcd · D2</text>

  <!-- Caption -->
  <text x="400" y="344" text-anchor="middle" fill="#94a3b8" font-size="9" font-style="italic">No proxy in the request path. Each client owns its routing decision.</text>
</svg>
